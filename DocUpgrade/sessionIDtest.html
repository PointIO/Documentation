<script type="text/javascript">

		var authCalls = 
			["#CoreTutorialOne\\.json_Auth_post_0_content",
			"#CoreTutorialTwo\\.json_Auth_post_0_content",
			"#CoreTutorialThree\\.json_Auth_post_0_content",
			"#CoreTutorialFour\\.json_Auth_post_0_content",
			"#CoreTutorialFive\\.json_Auth_post_0_content",
			"#FlowTutorialOne\\.json_nickname_post_0_content",
			"#FlowTutorialTwo\\.json_nickname_post_0_content",
			"#FlowTutorialThree\\.json_nickname_post_0_content",
			"#core\\.json_Auth_post_0_content",
			"#hub\\.json_Auth_post_0_content"];

			// Adds onClick and an onClick function to each /auth Make The Call button.t
				for (i = 0; i < authCalls.length; i++) {
					$(authCalls[i]).find('input.submit[name="commit"]').attr("onclick", "is200(authCalls[i])");
				}

			


			//console.log($(authCalls[i]).find('input.submit[name="commit"]').val());
				console.log($(authCalls[i]).find('input.submit').val());
				if ($(authCalls[i]).find('input.submit[name="commit"]').val() == "Make the call!") {
					console.log("TRUE");
				} else {
					console.log("FALSE");
				}
				//console.log("WAAAAAHOOOOO");
			}
			function is200(authCall) {
				console.log(authCall.find(".response_code").children().val());
			}

			// Adds onClick and an onClick function to each /auth Make The Call button.
					      $(authCalls).each(function(i){
					      	var responseCode = ($(authCalls[i]).find(" .response_code"));
					        $(authCalls[i]).find('input.submit[name="commit"]').on("click", function(){
					           //console.log($(authCalls[i]).find(" .response_code pre").text());
					           responseCode.on("change", function(){
					           		console.log(responseCode.find('pre').text() + "YAY!");
					           })
					           
					        });
					        
					      })

	// Onload functions: Check if cookie already exists(checkCookie...which calls getCookie to see if cookie exists. If it does, checkCookie fills in "Authorization" fields.
	function getCookie(cname) {
			var name = cname + "=";
			var ca = document.cookie.split(';');
			for(var i = 0; i < ca.length; i++) {
				var c = ca[i].trim();
				if (c.indexOf(name)==0) return c.substring(name.length, c.length);
			}
			return "";
		}


	function checkCookie() {
		var sessionId = getCookie("sessionId");
		if (sessionId != "") {
			$(document).find('input.parameter.required[name="Authorization"]').val(sessionId);
		}
	}

	// On Save sessionId button click, create cookie to save sessionId.
	function getSessionId(body) {
		//Is there a span of class "attribute" with text "SESSIONKEY"?
		if (body.find('div.block.response_body.json').find('span.attribute:contains("SESSIONKEY")') {
		// If so, get the session key and return it.
			alert("Session ID was found");
			}
		// Else, alert the user their authentication failed and no session key could be saved.
			else {
				alert("Authentication failed, so no session ID could be saved. Please try the /auth call again.");
			}
		}








for(i=0;i<$("span.attribute").length;i++){ if($("span.attribute")[i].textContent === "SESSIONKEY") { console.log($($("span.attribute")[i]).next().text())} }








		
	
		var createCookie = function(name, value, days) {
			var expires;
			if (days) {
				var date = new Date();
				date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
				expires = "; expires=" + date.toGMTString();
			} else {
				expires = "";
			}
			document.cookie = name + "=" + value + expires + "; path=/";
		}


		function saveSession(form) {
			var cookieName = "sessionId";
			var sessionId = form.auth.value;
			createCookie(cookieName, sessionId, 1);
			checkCookie();
		}				
	</script>